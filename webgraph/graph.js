function main() {
    graph = Viva.Graph.graph();

    graph.addLink("vaih-core-2", "str2-96a-3");
    graph.addLink("vaih-core-2", "vaih-mgmt-1.lan.selfnet.de");
    graph.addLink("vaih-core-2", "ar3-26c-2");
    graph.addLink("vaih-core-2", "ar1-10a-1");
    graph.addLink("vaih-core-2", "ar1-16c-1");
    graph.addLink("vaih-core-2", "vaih-core-3");
    graph.addLink("vaih-core-2", "ar1-14c-2");
    graph.addLink("vaih-core-2", "ar1-12a-1");
    graph.addLink("vaih-core-2", "vaih-core-1");
    graph.addLink("vaih-core-2", "ar1-6-1");
    graph.addLink("vaih-core-2", "ar1-8b-1");
    graph.addLink("vaih-core-2", "ar2-24c-1");
    graph.addLink("vaih-core-2", "str3-3h-1");
    graph.addLink("vaih-core-2", "str2-102a-3");
    graph.addLink("vaih-core-2", "str1-66a-1");
    graph.addLink("vaih-core-2", "ar1-22d-1");
    graph.addLink("vaih-core-2", "ar2-24d-2");
    graph.addLink("vaih-core-2", "ar1-20d-1");
    graph.addLink("vaih-core-2", "ar3-26b-1");
    graph.addLink("vaih-core-2", "ar2-24a-2");
    graph.addLink("vaih-core-2", "ar1-18d-1");
    graph.addLink("vaih-core-2", "str1-70-2");
    graph.addLink("vaih-core-2", "str1-74-3");
    graph.addLink("vaih-core-2", "str2-84c-3");
    graph.addLink("vaih-core-2", "str3-3f-1");
    graph.addLink("vaih-core-2", "ar1-12e-1");
    graph.addLink("str2-96a-3", "str2-96a-1");
    graph.addLink("str2-96a-3", "str2-96a-2");
    graph.addLink("str2-96a-1", "vaih-core-3");
    graph.addLink("str2-96a-1", "str2-96a-2");
    graph.addLink("vaih-core-3", "ar2-15-1");
    graph.addLink("vaih-core-3", "str3-3f-2");
    graph.addLink("vaih-core-3", "moehre-core");
    graph.addLink("vaih-core-3", "ar1-20a-1");
    graph.addLink("vaih-core-3", "ar1-12b-1");
    graph.addLink("vaih-core-3", "ar1-16a-1");
    graph.addLink("vaih-core-3", "ar1-18a-1");
    graph.addLink("vaih-core-3", "str2-84c-1");
    graph.addLink("vaih-core-3", "str2-102a-1");
    graph.addLink("vaih-core-3", "str1-66a-2");
    graph.addLink("vaih-core-3", "vaih-core-1");
    graph.addLink("vaih-core-3", "ar3-26a-1");
    graph.addLink("vaih-core-3", "ar2-24c-2");
    graph.addLink("vaih-core-3", "pfaffenhof-core");
    graph.addLink("vaih-core-3", "ar1-22a-1");
    graph.addLink("vaih-core-3", "str3-3h-2");
    graph.addLink("vaih-core-3", "str3-3d-1");
    graph.addLink("vaih-core-3", "dorm-vpn-vaih.server.selfnet.de");
    graph.addLink("vaih-core-3", "ar2-24b-1");
    graph.addLink("vaih-core-3", "ar3-26d-1");
    graph.addLink("vaih-core-3", "nat-2.server.selfnet.de");
    graph.addLink("vaih-core-3", "ar3-26b-2");
    graph.addLink("vaih-core-3", "vaih-mgmt-2.lan.selfnet.de");
    graph.addLink("vaih-core-3", "kade-core");
    graph.addLink("vaih-core-3", "ar1-8d-1");
    graph.addLink("vaih-core-3", "ar1-10b-1");
    graph.addLink("vaih-core-3", "str1-74-1");
    graph.addLink("vaih-core-3", "ar1-8a-1");
    graph.addLink("vaih-core-3", "vaih-tor-1");
    graph.addLink("vaih-core-3", "ar1-14a-1");
    graph.addLink("str3-3f-2", "str3-3f-3");
    graph.addLink("str3-3f-2", "str3-3f-1");
    graph.addLink("str3-3f-3", "vaih-core-1");
    graph.addLink("str3-3f-3", "str3-3f-1");
    graph.addLink("vaih-core-1", "str1-70-1");
    graph.addLink("vaih-core-1", "str2-84c-2");
    graph.addLink("vaih-core-1", "ar1-14c-1");
    graph.addLink("vaih-core-1", "ar3-26a-2");
    graph.addLink("vaih-core-1", "ar1-10d-1");
    graph.addLink("vaih-core-1", "ar1-22c-1");
    graph.addLink("vaih-core-1", "str2-102a-2");
    graph.addLink("vaih-core-1", "nat-1.server.selfnet.de");
    graph.addLink("vaih-core-1", "ar1-18c-1");
    graph.addLink("vaih-core-1", "ar3-26d-2");
    graph.addLink("vaih-core-1", "str3-3d-2");
    graph.addLink("vaih-core-1", "ar1-6-1");
    graph.addLink("vaih-core-1", "ar2-24d-1");
    graph.addLink("vaih-core-1", "ar2-24a-1");
    graph.addLink("vaih-core-1", "ar1-16b-1");
    graph.addLink("vaih-core-1", "moehre-core");
    graph.addLink("vaih-core-1", "ar1-8a-1");
    graph.addLink("vaih-core-1", "ar1-20c-1");
    graph.addLink("vaih-core-1", "pfaffenhof-core");
    graph.addLink("vaih-core-1", "ar2-24b-2");
    graph.addLink("vaih-core-1", "ar3-26c-1");
    graph.addLink("vaih-core-1", "str2-96a-2");
    graph.addLink("vaih-core-1", "ar1-12c-1");
    graph.addLink("vaih-core-1", "heilmann-core");
    graph.addLink("vaih-core-1", "vaih-tor-2");
    graph.addLink("vaih-core-1", "str1-74-2");
    graph.addLink("vaih-core-1", "ar1-8e-1");
    graph.addLink("str1-70-1", "str1-70-2");
    graph.addLink("str2-84c-2", "str2-84c-1");
    graph.addLink("str2-84c-2", "str2-84c-3");
    graph.addLink("str2-84c-1", "str2-84c-3");
    graph.addLink("ar1-14c-1", "ar1-14c-2");
    graph.addLink("ar1-14c-1", "ar1-14a-1");
    graph.addLink("ar1-14c-2", "ar1-14a-1");
    graph.addLink("ar3-26a-2", "ar3-26a-1");
    graph.addLink("ar1-10d-1", "ar1-10b-1");
    graph.addLink("ar1-10d-1", "ar1-10a-1");
    graph.addLink("ar1-10b-1", "ar1-10a-1");
    graph.addLink("ar1-22c-1", "ar1-22a-1");
    graph.addLink("ar1-22c-1", "ar1-22d-1");
    graph.addLink("ar1-22a-1", "ar1-22d-1");
    graph.addLink("str2-102a-2", "str2-102a-1");
    graph.addLink("str2-102a-2", "str2-102a-3");
    graph.addLink("str2-102a-1", "str2-102a-3");
    graph.addLink("ar1-18c-1", "ar1-18d-1");
    graph.addLink("ar1-18c-1", "ar1-18a-1");
    graph.addLink("ar1-18d-1", "ar1-18a-1");
    graph.addLink("ar3-26d-2", "ar3-26d-1");
    graph.addLink("str3-3d-2", "str3-3d-1");
    graph.addLink("ar2-24d-1", "ar2-24d-2");
    graph.addLink("ar2-24a-1", "ar2-24a-2");
    graph.addLink("ar1-16b-1", "ar1-16c-1");
    graph.addLink("ar1-16b-1", "ar1-16a-1");
    graph.addLink("ar1-16c-1", "ar1-16a-1");
    graph.addLink("moehre-core", "workstation-vpn-moehre.server.selfnet.de");
    graph.addLink("moehre-core", "moehre-35-2");
    graph.addLink("moehre-core", "moehre-37-1");
    graph.addLink("moehre-core", "moehre-37-3");
    graph.addLink("moehre-core", "moehre-35-1");
    graph.addLink("moehre-core", "moehre-33-2");
    graph.addLink("moehre-core", "moehre-35-3");
    graph.addLink("moehre-core", "moehre-colo2.lan.selfnet.de");
    graph.addLink("moehre-core", "moehre-31-1");
    graph.addLink("moehre-core", "moehre-33-1");
    graph.addLink("moehre-core", "moehre-31-2");
    graph.addLink("moehre-core", "moehre-37-4");
    graph.addLink("moehre-core", "workstation-vpn-moehre.server.selfnet.de");
    graph.addLink("moehre-core", "moehre-37-2");
    graph.addLink("moehre-35-2", "moehre-35-1");
    graph.addLink("moehre-35-2", "moehre-35-3");
    graph.addLink("moehre-35-1", "moehre-35-4");
    graph.addLink("moehre-35-4", "moehre-35-3");
    graph.addLink("moehre-37-1", "moehre-37-2");
    graph.addLink("moehre-37-1", "moehre-37-4");
    graph.addLink("moehre-37-2", "moehre-37-3");
    graph.addLink("moehre-37-3", "moehre-37-4");
    graph.addLink("moehre-33-2", "moehre-33-3");
    graph.addLink("moehre-33-2", "moehre-33-1");
    graph.addLink("moehre-33-2", "moehre-colo2.lan.selfnet.de");
    graph.addLink("moehre-33-3", "moehre-33-1");
    graph.addLink("moehre-31-1", "moehre-31-3");
    graph.addLink("moehre-31-1", "moehre-31-2");
    graph.addLink("moehre-31-3", "moehre-31-2");
    graph.addLink("ar1-20c-1", "ar1-20d-1");
    graph.addLink("ar1-20c-1", "ar1-20a-1");
    graph.addLink("ar1-20d-1", "ar1-20a-1");
    graph.addLink("pfaffenhof-core", "pf1-48c-1");
    graph.addLink("pfaffenhof-core", "pf1-48f-2");
    graph.addLink("pfaffenhof-core", "pf1-48c-2");
    graph.addLink("pfaffenhof-core", "pf1-46d-1");
    graph.addLink("pfaffenhof-core", "pf2-50c-3");
    graph.addLink("pfaffenhof-core", "pf1-42b-1");
    graph.addLink("pfaffenhof-core", "pf1-42b-2");
    graph.addLink("pfaffenhof-core", "pf1-42g-2");
    graph.addLink("pfaffenhof-core", "pf1-48a-1");
    graph.addLink("pfaffenhof-core", "pf2-50c-1");
    graph.addLink("pfaffenhof-core", "pf2-50c-2");
    graph.addLink("pfaffenhof-core", "pf1-42b-3");
    graph.addLink("pfaffenhof-core", "pf2-50c-4");
    graph.addLink("pfaffenhof-core", "pf1-44a-1");
    graph.addLink("pfaffenhof-core", "pf1-46b-1");
    graph.addLink("pfaffenhof-core", "pf1-48f-1");
    graph.addLink("pfaffenhof-core", "pf1-42g-1");
    graph.addLink("pfaffenhof-core", "pf1-46b-2");
    graph.addLink("pfaffenhof-core", "pf1-46f-1");
    graph.addLink("pfaffenhof-core", "pf1-44b-1");
    graph.addLink("pfaffenhof-core", "pf1-44b-2");
    graph.addLink("pf1-48c-1", "pf1-48c-2");
    graph.addLink("pf1-48f-2", "pf1-48f-1");
    graph.addLink("pf1-46d-1", "pf1-48a-1");
    graph.addLink("pf2-50c-3", "pf2-50c-2");
    graph.addLink("pf2-50c-3", "pf2-50c-4");
    graph.addLink("pf2-50c-2", "pf2-50c-1");
    graph.addLink("pf2-50c-1", "pf2-50c-4");
    graph.addLink("pf1-42b-1", "pf1-42b-3");
    graph.addLink("pf1-42b-1", "pf1-42b-2");
    graph.addLink("pf1-42b-3", "pf1-42b-2");
    graph.addLink("pf1-42g-2", "pf1-42g-1");
    graph.addLink("pf1-44a-1", "pf1-46f-1");
    graph.addLink("pf1-46b-1", "pf1-46b-2");
    graph.addLink("pf1-44b-1", "pf1-44b-2");
    graph.addLink("ar2-24b-2", "ar2-24b-1");
    graph.addLink("ar3-26c-1", "ar3-26c-2");
    graph.addLink("ar1-12c-1", "ar1-12e-1");
    graph.addLink("ar1-12c-1", "ar1-12b-1");
    graph.addLink("ar1-12e-1", "ar1-12a-1");
    graph.addLink("ar1-12a-1", "ar1-12b-1");
    graph.addLink("heilmann-core", "sg-5");
    graph.addLink("heilmann-core", "axa-6");
    graph.addLink("heilmann-core", "heuss-core");
    graph.addLink("heilmann-core", "heilmann-server-2");
    graph.addLink("heilmann-core", "axa-11");
    graph.addLink("heilmann-core", "heuss-core");
    graph.addLink("heilmann-core", "axa-2");
    graph.addLink("heilmann-core", "sg-2");
    graph.addLink("heilmann-core", "axa-3");
    graph.addLink("heilmann-core", "sg-3");
    graph.addLink("heilmann-core", "axa-10");
    graph.addLink("heilmann-core", "axa-1");
    graph.addLink("heilmann-core", "axa-4");
    graph.addLink("heilmann-core", "sg-4");
    graph.addLink("heilmann-core", "axa-7");
    graph.addLink("heilmann-core", "sg-6");
    graph.addLink("heilmann-core", "axa-9");
    graph.addLink("heilmann-core", "axa-8");
    graph.addLink("heilmann-core", "heilmann-server-1");
    graph.addLink("heilmann-core", "axa-5");
    graph.addLink("heilmann-core", "sg-1");
    graph.addLink("sg-5", "sg-6");
    graph.addLink("sg-5", "sg-4");
    graph.addLink("sg-6", "sg-1");
    graph.addLink("sg-1", "sg-2");
    graph.addLink("sg-2", "sg-3");
    graph.addLink("sg-3", "sg-4");
    graph.addLink("axa-6", "axa-7");
    graph.addLink("axa-6", "axa-5");
    graph.addLink("axa-7", "axa-8");
    graph.addLink("axa-8", "axa-9");
    graph.addLink("axa-9", "axa-10");
    graph.addLink("axa-10", "axa-11");
    graph.addLink("axa-11", "axa-1");
    graph.addLink("axa-1", "axa-2");
    graph.addLink("axa-2", "axa-3");
    graph.addLink("axa-3", "axa-4");
    graph.addLink("axa-4", "axa-5");
    graph.addLink("heuss-core", "kade-core");
    graph.addLink("heuss-core", "heuss-1");
    graph.addLink("heuss-core", "heuss-3");
    graph.addLink("heuss-core", "heuss-2");
    graph.addLink("heuss-core", "heuss-noc-1");
    graph.addLink("heuss-core", "kade-core");
    graph.addLink("kade-core", "kade-3");
    graph.addLink("kade-core", "kade-4");
    graph.addLink("kade-core", "kade-2");
    graph.addLink("kade-core", "workstation-vpn-kade.server.selfnet.de");
    graph.addLink("kade-core", "workstation-vpn-kade.server.selfnet.de");
    graph.addLink("kade-core", "kade-1");
    graph.addLink("kade-core", "kade-noc-1");
    graph.addLink("kade-3", "kade-4");
    graph.addLink("kade-3", "kade-2");
    graph.addLink("kade-4", "kade-1");
    graph.addLink("kade-1", "kade-2");
    graph.addLink("kade-noc-1", "kade");
    graph.addLink("heuss-1", "heuss-3");
    graph.addLink("heuss-1", "heuss-2");
    graph.addLink("heuss-3", "heuss-2");
    graph.addLink("heilmann-server-2", "axa-noc-1");
    graph.addLink("heilmann-server-2", "heilmann-server-1");
    graph.addLink("heilmann-server-2", "workstation-vpn-heilmann.server.selfnet.de");
    graph.addLink("heilmann-server-2", "workstation-vpn-heilmann.server.selfnet.de");
    graph.addLink("axa-noc-1", "axa-noc-2");
    graph.addLink("axa-noc-1", "axa-noc-3");
    graph.addLink("axa-noc-2", "axa-cnoc");
    graph.addLink("axa-noc-3", "ap-54");
    graph.addLink("vaih-tor-2", "dvb-1.server.selfnet.de");
    graph.addLink("vaih-tor-2", "ftp-1.server.selfnet.de");
    graph.addLink("vaih-tor-2", "vaih-noc-u7");
    graph.addLink("vaih-tor-2", "xen-1.server.selfnet.de");
    graph.addLink("vaih-tor-2", "wlc");
    graph.addLink("vaih-tor-2", "dvb-1.server.selfnet.de");
    graph.addLink("vaih-tor-2", "kvm-dev.server.selfnet.de");
    graph.addLink("vaih-tor-2", "vaih-tor-1");
    graph.addLink("vaih-noc-u7", "vaih-noc-u3-oben");
    graph.addLink("vaih-noc-u7", "vaih-noc-u3-unten");
    graph.addLink("vaih-noc-u7", "vaih-u7");
    graph.addLink("vaih-noc-u3-oben", "vaih-noc-u4-links");
    graph.addLink("vaih-noc-u3-unten", "vaih-noc-u4-rechts");
    graph.addLink("vaih-noc-u3-unten", "vaih-noc-u3-hinten");
    graph.addLink("vaih-noc-u3-unten", "cisco ata spa112");
    graph.addLink("vaih-noc-u3-unten", "vaih-u5");
    graph.addLink("vaih-noc-u3-unten", "vaih-u2");
    graph.addLink("vaih-noc-u3-unten", "ap-147");
    graph.addLink("vaih-noc-u3-hinten", "vaih-noc-u3-vorne");
    graph.addLink("wlc", "vaih-tor-1");
    graph.addLink("wlc", "vaih-tor-1");
    graph.addLink("vaih-tor-1", "workstation-vpn-vaihingen.server.selfnet.de");
    graph.addLink("vaih-tor-1", "dorm-vpn-vaih.server.selfnet.de");
    graph.addLink("vaih-tor-1", "nms-1.server.selfnet.de");
    graph.addLink("vaih-tor-1", "workstation-vpn-vaihingen.server.selfnet.de");
    graph.addLink("str1-74-2", "str1-74-1");
    graph.addLink("str1-74-2", "str1-74-3");
    graph.addLink("str1-74-1", "str1-74-3");
    graph.addLink("ar1-8e-1", "ar1-8d-1");
    graph.addLink("ar1-8e-1", "ar1-8b-1");
    graph.addLink("ar1-8d-1", "ar1-8b-1");
    graph.addLink("str1-66a-2", "str1-66a-1");
    graph.addLink("ar2-24c-2", "ar2-24c-1");
    graph.addLink("str3-3h-2", "str3-3h-1");
    graph.addLink("ar3-26b-2", "ar3-26b-1");
    graph.addLink("stuwost1", "stuwost2");
    graph.addLink("stuwost1", "nat-1.server.selfnet.de");
    graph.addLink("stuwost1", "stuwost2");
    graph.addLink("stuwost1", "stuwost2");
    graph.addLink("stuwost2", "nat-2.server.selfnet.de");
    console.log("Added Links.");

    var graphics = Viva.Graph.View.svgGraphics();

    var node_size = 6;
    var node_color = "#ccc";

    var core_color = '#ffca00';
    var cores = [
        "vaih-core-1",
        "vaih-core-2",
        "vaih-core-3",
        "moehre-core",
        "heilmann-core",
        "kade-core",
        "heuss-core",
        "pfaffenhof-core"
    ]
    var router_color = '#00f600';
    var routers = [
        "stuwost1",
        "stuwost2"
    ]
    var nat_color = '#ff0000';
    var nats = [
        "nat-1.server.selfnet.de",
        "nat-2.server.selfnet.de"
    ]

    highlightRelatedNodes = function(nodeId, isOn) {
        graph.forEachLink(function(link) {
            var linkUI = graphics.getLinkUI(link.id);
            if (linkUI) {
                linkUI.attr('stroke', isOn ? '#222' : 'gray');
            }
        });
        graph.forEachLinkedNode(nodeId, function(node, link) {
            graph.forEachLinkedNode(node.id, function(node, link) {
                var linkUI = graphics.getLinkUI(link.id);
                if (linkUI) {
                    linkUI.attr('stroke', isOn ? '#ab6500' : 'gray');
                }
            });
        });
        graph.forEachLinkedNode(nodeId, function(node, link) {
            var linkUI = graphics.getLinkUI(link.id);
            if (linkUI) {
                linkUI.attr('stroke', isOn ? 'yellow' : 'gray');
            }
        });
    };

    showInfo = function(nodeId) {
        var infotext = "<h3>" + nodeId + "</h3><ul>";
        graph.forEachLinkedNode(nodeId, function(node, link){
            if (link.fromId == nodeId) {
                var otherNodeId = link.toId;
            } else {
                var otherNodeId = link.fromId;
            }
            infotext += "<li>" + otherNodeId + "</li>";
        });
        infotext += "</ul>";
        $('#info').html(infotext);
    };
    console.log("Defined Helper Functions.");

    graphics.node(function(node) {
        var ui = Viva.Graph.svg('g'),
        svgText = Viva.Graph.svg('text').attr('y', '-4px').attr('fill', 'white').text(node.id);
        circle = Viva.Graph.svg('circle').attr('cx', node_size).attr('cy', node_size).attr('r', node_size).attr('fill', node_color);

        ui.append(svgText);
        ui.append(circle);
        $(svgText).hide();

        $(ui).hover(function() { // mouse over
            highlightRelatedNodes(node.id, true);
            $(svgText).show();
        }, function() { // mouse out
            highlightRelatedNodes(node.id, false);
            $(svgText).hide();
        });

        $(ui).mousedown(function() {
            showInfo(node.id);
            $(svgText).show();
        });

        return ui;
    })

    graphics.placeNode(function(nodeUI, pos){
        nodeUI.attr('transform', 'translate(' + (pos.x - node_size) + ',' + (pos.y - node_size) + ')');
    });

    var layout = Viva.Graph.Layout.forceDirected(graph, {
        springLength : 10,
        springCoeff : 0.0001,
        dragCoeff : 0.02,
        gravity : -1.2,
        theta: 0.01
    });

    var renderer = Viva.Graph.View.renderer(graph,
    {
        graphics : graphics,
        layout: layout,
        container: document.getElementById('graph')
    });
    console.log("Rendering now.");
    renderer.run();

    for (var i = 0; i < cores.length; i++) {
        graphics.getNodeUI(graph.getNode(cores[i]).id).childNodes[1].attr('fill', core_color);
    }
    for (var i = 0; i < routers.length; i++) {
        graphics.getNodeUI(graph.getNode(n=routers[i]).id).childNodes[1].attr('fill', router_color);
    }
    for (var i = 0; i < nats.length; i++) {
        graphics.getNodeUI(graph.getNode(nats[i]).id).childNodes[1].attr('fill', nat_color);
    }
}
